<UserControl x:Name="TraceType2_Control" x:Class="wpfGMTraceability.UserControls.TraceType2Control"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:wpfGMTraceability.UserControls"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" d:DesignHeight="720" d:DesignWidth="1280" Loaded="TraceType2_Control_Loaded" Unloaded="TraceType2_Control_Unloaded">
    <Grid Background="Gainsboro">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="2" />
            <RowDefinition Height="80" />
            <RowDefinition Height="75" />
            <RowDefinition Height="25" />
            <RowDefinition Height="80" />
            <RowDefinition Height="80" />
            <RowDefinition Height="75" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="5">
            <!-- **** PartNumber Harness + LeadCode + JulianDay **** -->
            <materialDesign:Card x:Name="cardPNLeadJulianDay"  materialDesign:ElevationAssist.Elevation="Dp8" UniformCornerRadius="8" BorderThickness="2" Margin="18 5 5 5" BorderBrush="Navy" 
                     Width="auto" Height="auto" Background="Blue">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Width="32" Height="32" Kind="CarShiftPattern" Foreground="Gray" VerticalAlignment="Center" />
                    <TextBlock x:Name="txtScanCode" FontWeight="SemiBold" FontSize="40" Foreground="White" Text="" Margin="2 0 0 0" />
                </StackPanel>
            </materialDesign:Card>
        </StackPanel>

        <TextBlock x:Name="txtLastScan" Text="..." Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="3" FontSize="18" Foreground="Gray" VerticalAlignment="Center" FontWeight="Normal" Margin="18 0" />

        <!-- **** Video Button **** -->
        <Button x:Name="BtnPlayVideo" Style="{StaticResource MaterialDesignFloatingActionButton}" Height="75" Width="75" BorderBrush="{x:Null}" Background="Gray" Grid.Column="4" Grid.Row="2" Margin="0 0 25 0" Foreground="White" 
HorizontalAlignment="Right" VerticalAlignment="Center" Click="BtnPlayVideo_Click">
            <StackPanel Orientation="Vertical">
                <materialDesign:PackIcon Kind="Play" Width="46" Height="46" Foreground="LimeGreen" HorizontalAlignment="Center"/>
                <TextBlock FontWeight="SemiBold" FontSize="16" Text="Video" Margin="0 -5 0 0"/>
            </StackPanel>
        </Button>


        <ListBox ItemsSource="{Binding MiListaDeDatos}" Grid.Row="3" Grid.Column="0">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <materialDesign:Card Margin="8" Padding="12">
                        <StackPanel>
                            <TextBlock Text="{Binding Nombre}" FontWeight="Bold" />
                            <TextBlock Text="{Binding Estado}" Foreground="Green" />
                            <PackIcon Kind="{Binding Icono}" Width="24" Height="24" />
                        </StackPanel>
                    </materialDesign:Card>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <ListBox x:Name="lbLog" Grid.ColumnSpan="2" Grid.Row="7" Grid.Column="0" MaxHeight="300" VerticalAlignment="Bottom" ScrollViewer.VerticalScrollBarVisibility="Auto" BorderThickness="0">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <DockPanel Margin="2" LastChildFill="True">
                        <materialDesign:PackIcon Kind="{Binding MsjType, Converter={StaticResource TypeToIconConverter}}" Width="20" Height="20" Margin="0,0,6,0" />
                        <Border Padding="6" CornerRadius="4" Background="{Binding MsjType, Converter={StaticResource TypeToColorConverter}}">
                            <TextBlock Text="{Binding Formatted}" Foreground="Gray" FontSize="14" />
                        </Border>
                    </DockPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <Image Grid.Row="7" Grid.Column="4" Margin="0 0 10 0" Source="/Resources/LogoWithName.png" VerticalAlignment="Bottom" HorizontalAlignment="Right" />

    </Grid>
</UserControl>
